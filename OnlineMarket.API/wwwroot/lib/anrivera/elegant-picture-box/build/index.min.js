/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@anrivera/elegant-picture-box@1.0.11/build/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=require("react"),popmotion=require("popmotion");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function _interopNamespace(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var React__namespace=_interopNamespace(React),React__default=_interopDefaultLegacy(React);const PictureBox=e=>React__namespace.createElement("div",null,React__namespace.createElement("span",null,"1")),defaultTimestep=1/60*1e3,getCurrentTime="undefined"!=typeof performance?()=>performance.now():()=>Date.now(),onNextFrame="undefined"!=typeof window?e=>window.requestAnimationFrame(e):e=>setTimeout((()=>e(getCurrentTime())),defaultTimestep);function createRenderStep(e){let t=[],n=[],r=0,i=!1,o=!1;const a=new WeakSet,s={schedule:(e,o=!1,s=!1)=>{const c=s&&i,l=c?t:n;return o&&a.add(e),-1===l.indexOf(e)&&(l.push(e),c&&i&&(r=t.length)),e},cancel:e=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1),a.delete(e)},process:c=>{if(i)o=!0;else{if(i=!0,[t,n]=[n,t],n.length=0,r=t.length,r)for(let n=0;n<r;n++){const r=t[n];r(c),a.has(r)&&(s.schedule(r),e())}i=!1,o&&(o=!1,s.process(c))}}};return s}const maxElapsed=40;let useDefaultElapsed=!0,runNextFrame=!1,isProcessing=!1;const frame={delta:0,timestamp:0},stepsOrder=["read","update","preRender","render","postRender"],steps=stepsOrder.reduce(((e,t)=>(e[t]=createRenderStep((()=>runNextFrame=!0)),e)),{}),sync=stepsOrder.reduce(((e,t)=>{const n=steps[t];return e[t]=(e,t=!1,r=!1)=>(runNextFrame||startLoop(),n.schedule(e,t,r)),e}),{});stepsOrder.reduce(((e,t)=>(e[t]=steps[t].cancel,e)),{}),stepsOrder.reduce(((e,t)=>(e[t]=()=>steps[t].process(frame),e)),{});const processStep=e=>steps[e].process(frame),processFrame=e=>{runNextFrame=!1,frame.delta=useDefaultElapsed?defaultTimestep:Math.max(Math.min(e-frame.timestamp,40),1),frame.timestamp=e,isProcessing=!0,stepsOrder.forEach(processStep),isProcessing=!1,runNextFrame&&(useDefaultElapsed=!1,onNextFrame(processFrame))},startLoop=()=>{runNextFrame=!0,useDefaultElapsed=!0,isProcessing||onNextFrame(processFrame)};function styleInject(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var css_248z="/* 280px >= 639px */\n.grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(6rem, 1fr));\n  grid-auto-rows: 6rem;\n  grid-gap: 8px;\n  grid-auto-flow: dense; }\n  .grid .card {\n    overflow: hidden;\n    position: relative; }\n    .grid .card .item {\n      position: relative;\n      width: 100%;\n      height: 100%; }\n      .grid .card .item img {\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n        object-position: 50% 50%;\n        cursor: pointer;\n        transition: transform 1s; }\n\n.card.zoom {\n  grid-column: span 2;\n  grid-row: span 2; }\n  .card.zoom .item img {\n    height: auto;\n    transform: scale(1.03); }\n\n/* 640px >= 767px */\n@media screen and (min-width: 640px) {\n  .grid {\n    grid-template-columns: repeat(auto-fit, minmax(9rem, 1fr));\n    grid-auto-rows: 9rem; }\n  .card.zoom {\n    grid-column: span 3;\n    grid-row: span 3; } }\n\n/* 768px >= 1279px */\n@media screen and (min-width: 768px) {\n  .grid {\n    grid-template-columns: repeat(auto-fit, minmax(12rem, 1fr));\n    grid-auto-rows: 12rem; }\n  .card.zoom {\n    grid-column: span 3;\n    grid-row: span 3; } }\n";styleInject(css_248z);const popmotionEasing={anticipate:popmotion.anticipate,backIn:popmotion.backIn,backInOut:popmotion.backInOut,backOut:popmotion.backOut,circIn:popmotion.circIn,circInOut:popmotion.circInOut,circOut:popmotion.circOut,easeIn:popmotion.easeIn,easeInOut:popmotion.easeInOut,easeOut:popmotion.easeOut,linear:popmotion.linear},DATASET_KEY="elegantPictureBoxId",itemCachePosition={},toArray=e=>e?Array.prototype.slice.call(e):[],getCurrentPositionChildElement=(e,t)=>{const{top:n,left:r,width:i,height:o}=t.getBoundingClientRect(),a={top:n,left:r,width:i,height:o};return a.top-=e.top,a.left-=e.left,a.top=Math.max(a.top,0),a.left=Math.max(a.left,0),a},applyTransform=(e,{translateX:t,translateY:n,scaleX:r,scaleY:i},{immediate:o}={})=>{const a=0===t&&0===n&&1===r&&1===i,s=()=>{e.style.transform=a?"":`translateX(${t}px) translateY(${n}px) scaleX(${r}) scaleY(${i})`};o?s():sync.render(s);const c=e.children[0];if(c){const e=()=>{c.style.transform=a?"":`scaleX(${1/r}) scaleY(${1/i})`};o?e():sync.render(e)}},registerPositions=(e,t)=>{toArray(t).forEach((t=>{if("function"!=typeof t.getBoundingClientRect)return;t.dataset[DATASET_KEY]||(t.dataset[DATASET_KEY]=`${Math.random()}`);const n=t.dataset[DATASET_KEY];itemCachePosition[n]||(itemCachePosition[n]={});const r=getCurrentPositionChildElement(e,t);itemCachePosition[n].childElement=r,itemCachePosition[n].parentElement=e}))},stopCurrentTransitions=e=>{const t=toArray(e.children);return t.filter((e=>{const t=itemCachePosition[e.dataset[DATASET_KEY]];if(t&&t.stop)return t.stop(),delete t.stop,!0})),t.forEach((e=>{e.style.transform="";const t=e.children[0];t&&(t.style.transform="")})),t},getNewPositions=(e,t)=>{const n=t.map((t=>({childCoords:{},el:t,currentPositionChildElement:getCurrentPositionChildElement(e,t)})));if(n.filter((({el:t,currentPositionChildElement:n})=>{const r=itemCachePosition[t.dataset[DATASET_KEY]];return r?e.top!==r.childElement.top||e.left!==r.childElement.left||e.width!==r.childElement.width||e.height!==r.childElement.height:(registerPositions(n,[t]),!1)})),n.forEach((({el:e})=>{if(toArray(e.children).length>1)throw new Error("Make sure every grid item has a single container element surrounding its children")})),n.length)return n.map((t=>{const n=t.el.children[0];return n&&(t.childCoords=getCurrentPositionChildElement(e,n)),t})),n},startAnimation=(e,t,n,r,i)=>{t.forEach((({el:t,currentPositionChildElement:{top:o,left:a,width:s,height:c},childCoords:{top:l,left:d}},m)=>{const p=t.children[0],u=itemCachePosition[t.dataset[DATASET_KEY]],f={scaleX:u.childElement.width/s,scaleY:u.childElement.height/c,translateX:u.childElement.left-a,translateY:u.childElement.top-o};if(t.style.transformOrigin="0 0",p&&(p.style.transformOrigin="0 0",p.style.transition="10s"),applyTransform(t,f,{immediate:!0}),!popmotionEasing[n])throw new Error(`${n} is not a valid easing name`);const h=()=>{const i=popmotion.animate({from:f,to:{translateX:0,translateY:0,scaleX:1,scaleY:1},duration:r,ease:popmotionEasing[n],onUpdate:n=>{applyTransform(t,n),sync.postRender((()=>registerPositions(e,[t])))}});u.stop=()=>i.stop},g=setTimeout((()=>{sync.update(h)}),i*m);u.stop=()=>clearTimeout(g)}))},PicturesGrid=({items:e,transition:t,duration:n,timeOut:r})=>{const i=React.useRef(null);return React.useEffect((()=>{const e=i.current,o=e.getBoundingClientRect();registerPositions(o,e.children);const a=stopCurrentTransitions(e);e.addEventListener("click",(e=>{let i=e.target;if("IMG"!==i.tagName);else{i.parentElement.parentElement.classList.toggle("zoom");const e=getNewPositions(o,a);startAnimation(o,e,t,n,r)}}))})),React__default.default.createElement("div",{ref:i,className:"grid"},e.map(((e,t)=>React__default.default.createElement("div",{className:"card",key:t},React__default.default.createElement("div",{className:"item"},React__default.default.createElement("img",{src:e.img,alt:e.name}))))))};exports.PictureBox=PictureBox,exports.PicturesGrid=PicturesGrid;
//# sourceMappingURL=/sm/4da0b09776e3569e09bdbe91fe02e57485ab7811cb57998fb10f95380bced43d.map